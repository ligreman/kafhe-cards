<section id="character-page" flex ng-class="{ 'wide': !isSmallScreen() }" layout="column">
    <md-tabs class="kafhe-char-tabs" md-dynamic-height md-no-pagination
             md-stretch-tabs="always" md-selected="0">
        <md-tab id="tab0" ng-click="toggle('character')">
            <md-tab-label>
                <span><md-icon>face</md-icon></span>
                <span ng-if="!isSmallScreen()">{{ 'textCharacter' | translate }}</span>
            </md-tab-label>
        </md-tab>
        <md-tab id="tab1" ng-click="toggle('talents')">
            <md-tab-label>
                <span><md-icon>device_hub</md-icon></span>
                <span ng-if="!isSmallScreen()">{{ 'textTalents' | translate }}</span>
            </md-tab-label>
        </md-tab>
        <md-tab id="tab2" ng-click="toggle('collection')">
            <md-tab-label>
                <span><md-icon>view_comfy</md-icon></span>
                <span ng-if="!isSmallScreen()">{{ 'textCollection' | translate }}</span>
            </md-tab-label>
        </md-tab>
        <!--<md-tab id="tab3" ng-click="toggle('inventory')">
            <md-tab-label>
                <span><md-icon>work</md-icon></span>
                <span ng-if="!isSmallScreen()">{{ 'textInventory' | translate }}</span>
            </md-tab-label>
        </md-tab>-->
    </md-tabs>

    <md-content id="lienzo" flex>
        <!-- PERSONAJE -->
        <div ng-if="viewing === 'character'">
            <div layout="row" layout-align="space-around center" layout-padding>
                <div layout="row">
                    <div class="relative" layout="row" layout-align="start center">
                        <img class="small-avatar"
                             ng-src="assets/img/avatars/{{ global.user.avatar }}.png"/>
                        <md-icon ng-if="global.user.leader"
                                 class="birrete md-accent md-hue-3 material-icons">school
                        </md-icon>
                    </div>
                    <div>
                        <h2 class="margin-left-10">{{ global.user.alias }}</h2>
                        <p class="text-right">
                            <md-icon class="md-warn">favorite</md-icon>
                            {{ 'stat-health' | translate }}: {{ statsCollected.health }}
                        </p>
                    </div>
                </div>
                <p>{{ 'textCallTimes' | translate:{calls:global.user.calls, times:global.user.times} }}</p>
            </div>
            <div layout="column" layout-gt-sm="row">
                <div flex id="chart-stats"></div>
                <div flex id="chart-bars"></div>
            </div>
        </div>

        <!-- COLECCIÃ“N -->
        <div id="character-collection" class="y-scroll" ng-if="viewing === 'collection'">
            <div layout="row" layout-align="end center">
                <md-button class="md-accent md-hue-3" md-no-ink aria-label=""
                           ng-click="cardLevelUpDialog($event)">
                    {{ 'textFuseCards' | translate }}
                </md-button>
                <md-button class="md-accent md-hue-3" md-no-ink aria-label=""
                           ng-click="openPackageDialog($event)">
                    {{ 'textPacks' | translate }}
                </md-button>
            </div>
            <md-divider></md-divider>
            <div layout-padding>
                <k-collection card-collection="global.user.game.collection"></k-collection>
            </div>
        </div>

        <!-- TALENTOS -->
        <div id="character-talents" ng-if="viewing === 'talents'" layout-fill>
            <k-talents ng-if="global.gamedata.talents && global.user.game.talents" callback="updateUser"
                       growl-notification="growlNotification"
                       talents="global.gamedata.talents" user-talents="global.user.game.talents"></k-talents>
        </div>
    </md-content>
</section>
